<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII"/>
<meta content="width=device-width, initial-scale=1" name="viewport" />
<link rel="shortcut icon" th:href="@{/img/favicon.ico}"/>
<link rel="bookmark" th:href="@{/img/favicon.ico}"/>

<style>
.password-verdict{
color:#000;
}
</style>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" th:href="@{/css/floating-labels.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/css/registration.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/css/header.css}"/>
<link rel="stylesheet" type="text/css" th:href="@{/css/footer.css}"/>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap" rel="stylesheet" />

<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/css/select2.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/js/select2.min.js"></script>

<title th:text="#{label.form.title}">form</title>

<script type="text/javascript">
		var timerStart = Date.now();
</script>
</head>

<body>
    <div class="root">
			<div class="mpad-header">
					<div class="contact">
							<a href="tel:+49089909311243"><svg class="svg-inline--fa fa-phone-square fa-w-14" aria-hidden="true" data-prefix="fa" data-icon="phone-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM94 416c-7.033 0-13.057-4.873-14.616-11.627l-14.998-65a15 15 0 0 1 8.707-17.16l69.998-29.999a15 15 0 0 1 17.518 4.289l30.997 37.885c48.944-22.963 88.297-62.858 110.781-110.78l-37.886-30.997a15.001 15.001 0 0 1-4.289-17.518l30-69.998a15 15 0 0 1 17.16-8.707l65 14.998A14.997 14.997 0 0 1 384 126c0 160.292-129.945 290-290 290z"></path></svg> +49 (0) 89 909311 243</a>
							<a href="mailto:mpad@mpdl.mpg.de"><svg class="svg-inline--fa fa-envelope fa-w-16" aria-hidden="true" data-prefix="far" data-icon="envelope" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"></path></svg> mpad@mpdl.mpg.de</a>
					</div>
					<div class="social-links-header">
							<a href="https://twitter.com/MPDL">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="13px" height="13px"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
							</a>
							<a href="https://www.instagram.com/mpdldigitallabs/">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="13px" height="13px"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
							</a>
							<a href="https://www.linkedin.com/authwall?trk=bf&trkInfo=AQE0eYwiSjwDxQAAAXFePm5Qgf0Lq_wqTsmO4AJZ_juFECxORp_EvnXmUBf8xHeRMnFVVSSELtUx5QlsMMiDkFLoQOCNyLwZEki6_ohCEtG2lYjv6k53cjeCFpEIKUyItPuPckE=&originalReferer=&sessionRedirect=https%3A%2F%2Fwww.linkedin.com%2Fcompany%2Fmax-planck-digital-library%2Fabout%2F">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="13px" height="13px"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg>
							</a>
							<a href="https://www.youtube.com/channel/UCockYLckReAzKaoDO-oqicw/">
									<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 32" width="18px" height="18px"><path d="M 8.78125 4 L 10.4375 9.4375 L 10.4375 12.96875 L 11.8125 12.96875 L 11.8125 9.25 L 13.4375 4 L 12.03125 4 L 11.15625 7.59375 L 11.09375 7.59375 L 10.1875 4 Z M 15.21875 6.1875 C 14.660156 6.1875 14.207031 6.351563 13.875 6.65625 C 13.542969 6.957031 13.375 7.363281 13.375 7.875 L 13.375 11.3125 C 13.375 11.875 13.550781 12.324219 13.875 12.65625 C 14.199219 12.988281 14.617188 13.15625 15.15625 13.15625 C 15.714844 13.15625 16.148438 12.976563 16.46875 12.65625 C 16.785156 12.332031 16.9375 11.910156 16.9375 11.34375 L 16.9375 7.90625 C 16.9375 7.402344 16.792969 6.976563 16.46875 6.65625 C 16.144531 6.335938 15.730469 6.1875 15.21875 6.1875 Z M 18 6.34375 L 18 11.90625 C 18 12.304688 18.074219 12.585938 18.21875 12.78125 C 18.363281 12.976563 18.589844 13.0625 18.875 13.0625 C 19.105469 13.0625 19.320313 13.015625 19.5625 12.875 C 19.808594 12.734375 20.054688 12.519531 20.28125 12.25 L 20.28125 12.96875 L 21.5 12.96875 L 21.5 6.34375 L 20.28125 6.34375 L 20.28125 11.375 C 20.167969 11.519531 20.046875 11.65625 19.90625 11.75 C 19.769531 11.84375 19.652344 11.875 19.5625 11.875 C 19.449219 11.875 19.363281 11.851563 19.3125 11.78125 C 19.257813 11.710938 19.21875 11.589844 19.21875 11.4375 L 19.21875 6.34375 Z M 15.15625 7.34375 C 15.320313 7.34375 15.464844 7.378906 15.5625 7.46875 C 15.664063 7.558594 15.6875 7.667969 15.6875 7.8125 L 15.6875 11.4375 C 15.6875 11.617188 15.660156 11.746094 15.5625 11.84375 C 15.460938 11.945313 15.324219 12 15.15625 12 C 14.996094 12 14.867188 11.941406 14.78125 11.84375 C 14.691406 11.742188 14.65625 11.617188 14.65625 11.4375 C 14.65625 11.4375 14.65625 7.8125 14.65625 7.8125 C 14.65625 7.667969 14.6875 7.558594 14.78125 7.46875 C 14.875 7.378906 15.003906 7.34375 15.15625 7.34375 Z M 15 14.53125 C 12.625 14.527344 10.308594 14.558594 8.03125 14.65625 C 6.441406 14.65625 5.125 15.957031 5.125 17.53125 C 5.03125 18.777344 4.996094 20.03125 5 21.28125 C 4.996094 22.527344 5.027344 23.75 5.125 25 C 5.125 26.578125 6.4375 27.875 8.03125 27.875 C 10.308594 27.96875 12.625 28.003906 15 28 C 17.378906 28.003906 19.695313 27.96875 21.96875 27.875 C 23.5625 27.875 24.875 26.578125 24.875 25 C 24.96875 23.75 25.003906 22.527344 25 21.28125 C 25.003906 20.03125 24.972656 18.777344 24.875 17.53125 C 24.875 15.957031 23.5625 14.65625 21.96875 14.65625 C 19.695313 14.5625 17.378906 14.527344 15 14.53125 Z M 6.5625 16.59375 L 10.75 16.59375 C 10.824219 16.59375 10.875 16.644531 10.875 16.71875 L 10.875 18 C 10.875 18.074219 10.824219 18.125 10.75 18.125 L 9.46875 18.125 L 9.46875 25.5625 C 9.46875 25.636719 9.417969 25.6875 9.34375 25.6875 L 7.96875 25.6875 C 7.894531 25.6875 7.8125 25.636719 7.8125 25.5625 L 7.8125 18.125 L 6.5625 18.125 C 6.488281 18.125 6.40625 18.074219 6.40625 18 L 6.40625 16.71875 C 6.40625 16.644531 6.488281 16.59375 6.5625 16.59375 Z M 15.375 16.59375 L 16.59375 16.59375 C 16.667969 16.59375 16.75 16.644531 16.75 16.71875 L 16.75 19.21875 C 16.851563 19.125 16.953125 19.0625 17.0625 19 C 17.269531 18.886719 17.476563 18.8125 17.6875 18.8125 C 18.117188 18.8125 18.425781 18.964844 18.65625 19.28125 C 18.875 19.585938 19 20.035156 19 20.59375 L 19 24.21875 C 19 24.714844 18.898438 25.105469 18.6875 25.375 C 18.46875 25.65625 18.152344 25.78125 17.75 25.78125 C 17.496094 25.78125 17.269531 25.730469 17.0625 25.625 C 16.953125 25.566406 16.851563 25.496094 16.75 25.40625 L 16.75 25.5625 C 16.75 25.636719 16.667969 25.6875 16.59375 25.6875 L 15.375 25.6875 C 15.300781 25.6875 15.25 25.636719 15.25 25.5625 L 15.25 16.71875 C 15.25 16.644531 15.300781 16.59375 15.375 16.59375 Z M 21.625 18.71875 C 22.21875 18.71875 22.675781 18.921875 23 19.28125 C 23.320313 19.636719 23.5 20.128906 23.5 20.78125 L 23.5 22.46875 C 23.5 22.542969 23.417969 22.59375 23.34375 22.59375 L 21.15625 22.59375 L 21.15625 23.6875 C 21.15625 24.085938 21.207031 24.238281 21.25 24.3125 C 21.285156 24.371094 21.371094 24.46875 21.5625 24.46875 C 21.714844 24.46875 21.820313 24.417969 21.875 24.34375 C 21.902344 24.304688 21.96875 24.164063 21.96875 23.6875 L 21.96875 23.21875 C 21.96875 23.144531 22.019531 23.09375 22.09375 23.09375 L 23.34375 23.09375 C 23.417969 23.09375 23.46875 23.144531 23.46875 23.21875 L 23.46875 23.71875 C 23.46875 24.421875 23.324219 24.949219 23 25.3125 C 22.671875 25.679688 22.175781 25.875 21.53125 25.875 C 20.949219 25.875 20.460938 25.671875 20.125 25.28125 C 19.792969 24.898438 19.625 24.378906 19.625 23.71875 L 19.625 20.78125 C 19.625 20.179688 19.820313 19.695313 20.1875 19.3125 C 20.554688 18.929688 21.042969 18.71875 21.625 18.71875 Z M 10.71875 18.90625 L 11.9375 18.90625 C 12.011719 18.90625 12.09375 18.957031 12.09375 19.03125 L 12.09375 24.03125 C 12.09375 24.195313 12.105469 24.257813 12.125 24.28125 C 12.132813 24.292969 12.148438 24.34375 12.25 24.34375 C 12.285156 24.34375 12.386719 24.316406 12.53125 24.21875 C 12.648438 24.140625 12.75 24.050781 12.84375 23.9375 L 12.84375 19.03125 C 12.84375 18.957031 12.894531 18.90625 12.96875 18.90625 L 14.1875 18.90625 C 14.261719 18.90625 14.3125 18.957031 14.3125 19.03125 L 14.3125 25.5625 L 14.34375 25.5625 C 14.34375 25.636719 14.261719 25.6875 14.1875 25.6875 L 12.96875 25.6875 C 12.894531 25.6875 12.84375 25.636719 12.84375 25.5625 L 12.84375 25.1875 C 12.683594 25.34375 12.511719 25.46875 12.34375 25.5625 C 12.078125 25.714844 11.820313 25.78125 11.5625 25.78125 C 11.238281 25.78125 11.011719 25.667969 10.84375 25.4375 C 10.683594 25.21875 10.59375 24.914063 10.59375 24.5 L 10.59375 19.03125 C 10.59375 18.957031 10.644531 18.90625 10.71875 18.90625 Z M 17.1875 20.125 C 17.105469 20.109375 17.007813 20.136719 16.90625 20.1875 C 16.847656 20.214844 16.808594 20.253906 16.75 20.3125 L 16.75 24.28125 C 16.824219 24.355469 16.871094 24.402344 16.9375 24.4375 C 17.011719 24.472656 17.105469 24.46875 17.1875 24.46875 C 17.34375 24.46875 17.390625 24.425781 17.40625 24.40625 C 17.445313 24.359375 17.46875 24.25 17.46875 24.03125 L 17.46875 20.65625 C 17.46875 20.46875 17.441406 20.339844 17.375 20.25 C 17.332031 20.191406 17.269531 20.140625 17.1875 20.125 Z M 21.5625 20.15625 C 21.417969 20.15625 21.308594 20.199219 21.25 20.28125 C 21.207031 20.339844 21.15625 20.476563 21.15625 20.78125 L 21.15625 21.3125 L 21.96875 21.3125 L 21.96875 20.78125 C 21.96875 20.480469 21.890625 20.347656 21.84375 20.28125 C 21.789063 20.203125 21.703125 20.15625 21.5625 20.15625 Z"/></svg>
							</a>
					</div>
			</div>
			<div class="top-banner">
			    <img class="logo-white" th:src="@{/img/logo_white.png}"/>
					<h1 class="title-label" th:text="#{label.form.title}">form</h1>
			</div>

			<div class="content">	
					<div>
							<form action="/" method="POST" enctype="utf8" >
							<input id="csrf" type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

									<div class="info-box" id="basic-info-box" >
											<div class="form-group row">
												<p id="form-title" class="col-sm-8" th:text="#{label.form.registration}">form</p>
											</div>

											<div class="row-container row">
												<div class="form-label-group short-label">
													<input type="text" id="title" class="form-control input-lg" placeholder="#{label.user.title}" name="title" value="">
													<label for="title" th:text="#{label.user.title}">title</label>
												</div>

												<div class="form-label-group long-label">
													<input type="text" id="firstName" class="form-control input-lg" placeholder="#{label.user.firstName}" name="firstName" value="" required>
													<label for="firstName" th:text="#{label.user.firstName}">first</label>
												</div>

												<div class="form-label-group long-label">
													<input type="text" id="lastName" class="form-control input-lg" placeholder="#{label.user.lastName}" name="lastName" value="" required>
													<label for="lastName" th:text="#{label.user.lastName}">Last</label>
												</div>
											</div>

											<div class="row">
												<span id="userNameError" class="form-alert" style="display:none"></span>
											</div>

											<div class="row-container row ">
												<div class="form-label-group long-label" >
													<input type="text" id="email" class="form-control input-lg" placeholder="#{label.user.email}" name="email" value="" required>
													<label for="email" th:text="#{label.user.email}">email</label>
												</div>													
											</div>

											<div class="row">
												<span id="emailError" class="form-alert" style="display:none"></span>
											</div>

											<div class="row-container row ">
												<div class="form-label-group long-label" >
													<input type="text" id="telephone" class="form-control input-lg" placeholder="#{label.user.telephone}" name="telephone" value="" required>
													<label for="telephone" th:text="#{label.user.telephone}">telephone</label>
												</div>													
											</div>

											<div class="row">
												<span id="telephoneError" class="form-alert" style="display:none"></span>
											</div>

											<div class="row-container row">
												<div class="form-label-group short-label">
													<input type="password" id="password" class="form-control input-lg" placeholder="#{label.user.password}" name="password" value="" required>
													<label for="password" th:text="#{label.user.password}">password</label>
												</div>

												<div class="form-label-group short-label">
													<input type="password" id="matchPassword" class="form-control input-lg" placeholder="#{label.user.confirmPass}" name="matchingPassword" value="" required>
													<label for="matchPassword" th:text="#{label.user.confirmPass}">Last</label>
												</div>
											</div>

											<div class="row info-pass-container">
												<span id="passwordHint" class="hint-password" th:text="#{error.password.rule}"></span>
											</div>

											<div class="row info-pass-container">
												<span id="passwordError" class="form-alert" style="display:none"></span>
											</div>
											
											<div class="row-container row ">
												<div id="organization-select-container">
													<select id="organization-select" name="organization">
													</select>
												</div>						
											</div>

											<div class="row-container row ">
												<div class="form-label-group long-label">
													<input type="text" id="department" class="form-control input-lg" placeholder="#{label.user.department}" name="department" value="">
													<label for="department" th:text="#{label.user.department}">department</label>
												</div>
											</div>

											<div class="row-container row ">
												<div class="form-label-group long-label">
													<input type="text" id="role" class="form-control input-lg" placeholder="#{label.user.role}" name="role" value="">
													<label for="role" th:text="#{label.user.role}">role</label>
												</div>
												<button id="sign-up-continue" type="button" class="btn btn-primary" th:text="#{label.form.continue}">continue</button>
											</div>
									</div>


									<div class="info-box" id="research-info-box" style="display: none;">
										<div class="form-group row">
											<p id="form-title" class="col-sm-12" th:text="#{label.form.research}"></p>
										</div>

										<div class="row-container row multi-select-row">
											<select multiple id="research-field" name="researchFields">
													<option value="Astronomy">Astronomy</option>
													<option value="Chemistry">Chemistry</option>
													<option value="Physics">Physics</option>
													<option value="Psychology">Psychology</option>
											</select>
										</div>

										<div class="row-container row">
											<div class="form-label-group short-label">
												<input type="text" id="researchMethods" class="form-control input-lg" placeholder="#{label.form.research.method}" name="researchMethods" value="">
												<label for="researchMethods" th:text="#{label.form.research.method}"></label>
											</div>
										</div>

										<div class="row-container row multi-select-row">
											<select multiple id="research-coordinate-team" name="coordinateTeams">
													<option value="Github">Github</option>
													<option value="Markdown">Markdown</option>
													<option value="Slack">Slack</option>
													<option value="KEEPER">KEEPER</option>
													<option value="Mattermost">Mattermost</option>
													<option value="WhatsApp">WhatsApp</option>
													<option value="Trello">Trello</option>
											</select>
										</div>

										<div class="row right-align-container" style="margin-top: 10px;" >
											<button id="back-to-basic-info" type="button" class="btn btn-primary" th:text="#{label.form.back}">back</button>
											<button id="continue-to-address" type="button" class="btn btn-primary" th:text="#{label.form.continue}">continue</button>
										</div>

									</div>

									<div class="info-box" id="address-info-box" style="display: none;">
										<div class="form-group row">
											<p id="form-title" class="col-sm-8" th:text="#{label.form.shipping}"></p>
										</div>

										<div class="form-group row">
											<p id="shipping-desc" class="col-sm-8" th:text="#{label.shipping.desc}"></p>
										</div>

										<div class="form-group row">
											<h4 id="label-fullname" class="col-sm-8" ></h4>
										</div>

										<div class="shipping-container row">
												<div class="form-label-group long-label">
													<input type="text" id="shippingOrganization" class="form-control input-lg" placeholder="#{label.user.shipping.organization}" name="shippingOrganization" value="" autocomplete="rutjfkde">
													<label for="shippingOrganization" th:text="#{label.user.shipping.organization}">organization shipping</label>
												</div>

												<div class="form-label-group long-label">
													<input type="text" id="shippingDepartment" class="form-control input-lg" placeholder="#{label.user.shipping.department}" name="shippingDepartment" value="" autocomplete="rutjfkde">
													<label for="shippingDepartment" th:text="#{label.user.shipping.department}">department shipping</label>
												</div>
										</div>


										<div class="row-container row ">
											<div class="form-label-group long-label">
												<input type="text" id="address" class="form-control input-lg" placeholder="#{label.user.address}" name="address" value="" autocomplete="rutjfkde">
												<label for="address" th:text="#{label.user.address}">address</label>
											</div>													
										</div>

										<div class="row-container row">
											<div class="form-label-group short-label">
												<input type="text" id="city" class="form-control input-lg" placeholder="#{label.user.city}" name="city" value="" autocomplete="rutjfkde">
												<label for="city" th:text="#{label.user.city}">city</label>
											</div>

											<div class="form-label-group short-label">
												<input type="text" id="country" class="form-control input-lg" placeholder="#{label.user.country}" name="country" value="" autocomplete="rutjfkde">
												<label for="country" th:text="#{label.user.country}">country</label>
											</div>

											<div class="form-label-group short-label">
												<input type="text" id="zip" class="form-control input-lg" placeholder="#{label.user.zipcode}" name="zip" value="" autocomplete="rutjfkde">
												<label for="zip" th:text="#{label.user.zipcode}"></label>
											</div>
										</div>

										<div id="accept-and-sign-up">
											<div id="mpad-checkboxes">
												<div class="checkbox">
													<label><input type="checkbox" id="privacyCheckbox" name="privacyCheckbox" value="">I agree to the <a href="https://qa-mpad.mpdl.mpg.de/privacy-policy/" target="_blank"><u>Privacy Policy</u></a></label>
												</div>
												<div class="checkbox">
													<label><input type="checkbox" id="termCheckbox" name="termCheckbox" value="">I agree to the <a href="https://qa-mpad.mpdl.mpg.de/terms-of-service/" target="_blank"><u>Terms of Service</u></a></label>
												</div>
												<div class="checkbox">
													<label><input type="checkbox" id="betriebsratCheckbox" name="betriebsratCheckbox" value=""><p class="checkbox-text" th:text="#{label.term.betriebsrat}"></p></label>
												</div>
												<div class="checkbox">
													<label><input type="checkbox" id="testPhaseCheckbox" name="testPhaseCheckbox" value=""><p class="checkbox-text" th:text="#{label.term.testPhase}"></p></label>
												</div>

												<div class="form-group row">
													<span id="termsError" class="form-alert" style="display:none"></span>
												</div>
											</div>

											<div class="row right-align-container" style="margin-top: 10px;" >
												<button id='back-to-research-info' class="btn btn-primary" th:text="#{label.form.back}">back</button>
												<button id='btn-mpad-register' type="submit" class="btn btn-primary" th:text="#{label.form.register}">submit</button>
											</div>
										</div>
									</div>

							</form>
							<br/> 
					</div>
			</div>
		</div>
		
		<div class='footer-sticky-bottom'>
			<div class="container">
				<div class="social-links-footer">
						<a href="https://twitter.com/MPDL">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="16px" height="16px"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
						</a>
						<a href="https://www.instagram.com/mpdldigitallabs/">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="16px" height="16px"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
						</a>
						<a href="https://www.linkedin.com/authwall?trk=bf&trkInfo=AQE0eYwiSjwDxQAAAXFePm5Qgf0Lq_wqTsmO4AJZ_juFECxORp_EvnXmUBf8xHeRMnFVVSSELtUx5QlsMMiDkFLoQOCNyLwZEki6_ohCEtG2lYjv6k53cjeCFpEIKUyItPuPckE=&originalReferer=&sessionRedirect=https%3A%2F%2Fwww.linkedin.com%2Fcompany%2Fmax-planck-digital-library%2Fabout%2F">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="16px" height="16px"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"/></svg>
						</a>
						<a href="https://www.youtube.com/channel/UCockYLckReAzKaoDO-oqicw/">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 32" width="24px" height="24px"><path d="M 8.78125 4 L 10.4375 9.4375 L 10.4375 12.96875 L 11.8125 12.96875 L 11.8125 9.25 L 13.4375 4 L 12.03125 4 L 11.15625 7.59375 L 11.09375 7.59375 L 10.1875 4 Z M 15.21875 6.1875 C 14.660156 6.1875 14.207031 6.351563 13.875 6.65625 C 13.542969 6.957031 13.375 7.363281 13.375 7.875 L 13.375 11.3125 C 13.375 11.875 13.550781 12.324219 13.875 12.65625 C 14.199219 12.988281 14.617188 13.15625 15.15625 13.15625 C 15.714844 13.15625 16.148438 12.976563 16.46875 12.65625 C 16.785156 12.332031 16.9375 11.910156 16.9375 11.34375 L 16.9375 7.90625 C 16.9375 7.402344 16.792969 6.976563 16.46875 6.65625 C 16.144531 6.335938 15.730469 6.1875 15.21875 6.1875 Z M 18 6.34375 L 18 11.90625 C 18 12.304688 18.074219 12.585938 18.21875 12.78125 C 18.363281 12.976563 18.589844 13.0625 18.875 13.0625 C 19.105469 13.0625 19.320313 13.015625 19.5625 12.875 C 19.808594 12.734375 20.054688 12.519531 20.28125 12.25 L 20.28125 12.96875 L 21.5 12.96875 L 21.5 6.34375 L 20.28125 6.34375 L 20.28125 11.375 C 20.167969 11.519531 20.046875 11.65625 19.90625 11.75 C 19.769531 11.84375 19.652344 11.875 19.5625 11.875 C 19.449219 11.875 19.363281 11.851563 19.3125 11.78125 C 19.257813 11.710938 19.21875 11.589844 19.21875 11.4375 L 19.21875 6.34375 Z M 15.15625 7.34375 C 15.320313 7.34375 15.464844 7.378906 15.5625 7.46875 C 15.664063 7.558594 15.6875 7.667969 15.6875 7.8125 L 15.6875 11.4375 C 15.6875 11.617188 15.660156 11.746094 15.5625 11.84375 C 15.460938 11.945313 15.324219 12 15.15625 12 C 14.996094 12 14.867188 11.941406 14.78125 11.84375 C 14.691406 11.742188 14.65625 11.617188 14.65625 11.4375 C 14.65625 11.4375 14.65625 7.8125 14.65625 7.8125 C 14.65625 7.667969 14.6875 7.558594 14.78125 7.46875 C 14.875 7.378906 15.003906 7.34375 15.15625 7.34375 Z M 15 14.53125 C 12.625 14.527344 10.308594 14.558594 8.03125 14.65625 C 6.441406 14.65625 5.125 15.957031 5.125 17.53125 C 5.03125 18.777344 4.996094 20.03125 5 21.28125 C 4.996094 22.527344 5.027344 23.75 5.125 25 C 5.125 26.578125 6.4375 27.875 8.03125 27.875 C 10.308594 27.96875 12.625 28.003906 15 28 C 17.378906 28.003906 19.695313 27.96875 21.96875 27.875 C 23.5625 27.875 24.875 26.578125 24.875 25 C 24.96875 23.75 25.003906 22.527344 25 21.28125 C 25.003906 20.03125 24.972656 18.777344 24.875 17.53125 C 24.875 15.957031 23.5625 14.65625 21.96875 14.65625 C 19.695313 14.5625 17.378906 14.527344 15 14.53125 Z M 6.5625 16.59375 L 10.75 16.59375 C 10.824219 16.59375 10.875 16.644531 10.875 16.71875 L 10.875 18 C 10.875 18.074219 10.824219 18.125 10.75 18.125 L 9.46875 18.125 L 9.46875 25.5625 C 9.46875 25.636719 9.417969 25.6875 9.34375 25.6875 L 7.96875 25.6875 C 7.894531 25.6875 7.8125 25.636719 7.8125 25.5625 L 7.8125 18.125 L 6.5625 18.125 C 6.488281 18.125 6.40625 18.074219 6.40625 18 L 6.40625 16.71875 C 6.40625 16.644531 6.488281 16.59375 6.5625 16.59375 Z M 15.375 16.59375 L 16.59375 16.59375 C 16.667969 16.59375 16.75 16.644531 16.75 16.71875 L 16.75 19.21875 C 16.851563 19.125 16.953125 19.0625 17.0625 19 C 17.269531 18.886719 17.476563 18.8125 17.6875 18.8125 C 18.117188 18.8125 18.425781 18.964844 18.65625 19.28125 C 18.875 19.585938 19 20.035156 19 20.59375 L 19 24.21875 C 19 24.714844 18.898438 25.105469 18.6875 25.375 C 18.46875 25.65625 18.152344 25.78125 17.75 25.78125 C 17.496094 25.78125 17.269531 25.730469 17.0625 25.625 C 16.953125 25.566406 16.851563 25.496094 16.75 25.40625 L 16.75 25.5625 C 16.75 25.636719 16.667969 25.6875 16.59375 25.6875 L 15.375 25.6875 C 15.300781 25.6875 15.25 25.636719 15.25 25.5625 L 15.25 16.71875 C 15.25 16.644531 15.300781 16.59375 15.375 16.59375 Z M 21.625 18.71875 C 22.21875 18.71875 22.675781 18.921875 23 19.28125 C 23.320313 19.636719 23.5 20.128906 23.5 20.78125 L 23.5 22.46875 C 23.5 22.542969 23.417969 22.59375 23.34375 22.59375 L 21.15625 22.59375 L 21.15625 23.6875 C 21.15625 24.085938 21.207031 24.238281 21.25 24.3125 C 21.285156 24.371094 21.371094 24.46875 21.5625 24.46875 C 21.714844 24.46875 21.820313 24.417969 21.875 24.34375 C 21.902344 24.304688 21.96875 24.164063 21.96875 23.6875 L 21.96875 23.21875 C 21.96875 23.144531 22.019531 23.09375 22.09375 23.09375 L 23.34375 23.09375 C 23.417969 23.09375 23.46875 23.144531 23.46875 23.21875 L 23.46875 23.71875 C 23.46875 24.421875 23.324219 24.949219 23 25.3125 C 22.671875 25.679688 22.175781 25.875 21.53125 25.875 C 20.949219 25.875 20.460938 25.671875 20.125 25.28125 C 19.792969 24.898438 19.625 24.378906 19.625 23.71875 L 19.625 20.78125 C 19.625 20.179688 19.820313 19.695313 20.1875 19.3125 C 20.554688 18.929688 21.042969 18.71875 21.625 18.71875 Z M 10.71875 18.90625 L 11.9375 18.90625 C 12.011719 18.90625 12.09375 18.957031 12.09375 19.03125 L 12.09375 24.03125 C 12.09375 24.195313 12.105469 24.257813 12.125 24.28125 C 12.132813 24.292969 12.148438 24.34375 12.25 24.34375 C 12.285156 24.34375 12.386719 24.316406 12.53125 24.21875 C 12.648438 24.140625 12.75 24.050781 12.84375 23.9375 L 12.84375 19.03125 C 12.84375 18.957031 12.894531 18.90625 12.96875 18.90625 L 14.1875 18.90625 C 14.261719 18.90625 14.3125 18.957031 14.3125 19.03125 L 14.3125 25.5625 L 14.34375 25.5625 C 14.34375 25.636719 14.261719 25.6875 14.1875 25.6875 L 12.96875 25.6875 C 12.894531 25.6875 12.84375 25.636719 12.84375 25.5625 L 12.84375 25.1875 C 12.683594 25.34375 12.511719 25.46875 12.34375 25.5625 C 12.078125 25.714844 11.820313 25.78125 11.5625 25.78125 C 11.238281 25.78125 11.011719 25.667969 10.84375 25.4375 C 10.683594 25.21875 10.59375 24.914063 10.59375 24.5 L 10.59375 19.03125 C 10.59375 18.957031 10.644531 18.90625 10.71875 18.90625 Z M 17.1875 20.125 C 17.105469 20.109375 17.007813 20.136719 16.90625 20.1875 C 16.847656 20.214844 16.808594 20.253906 16.75 20.3125 L 16.75 24.28125 C 16.824219 24.355469 16.871094 24.402344 16.9375 24.4375 C 17.011719 24.472656 17.105469 24.46875 17.1875 24.46875 C 17.34375 24.46875 17.390625 24.425781 17.40625 24.40625 C 17.445313 24.359375 17.46875 24.25 17.46875 24.03125 L 17.46875 20.65625 C 17.46875 20.46875 17.441406 20.339844 17.375 20.25 C 17.332031 20.191406 17.269531 20.140625 17.1875 20.125 Z M 21.5625 20.15625 C 21.417969 20.15625 21.308594 20.199219 21.25 20.28125 C 21.207031 20.339844 21.15625 20.476563 21.15625 20.78125 L 21.15625 21.3125 L 21.96875 21.3125 L 21.96875 20.78125 C 21.96875 20.480469 21.890625 20.347656 21.84375 20.28125 C 21.789063 20.203125 21.703125 20.15625 21.5625 20.15625 Z"/></svg>
						</a>
				</div><!-- end .social-links -->
			</div>
		  <div class="copyright">© 2020 			<a title="mPad" target="_blank" href="https://qa-mpad.mpdl.mpg.de/">mPad</a> | 
						Designed by: <a title="digital labs" target="_blank" href="">digital labs</a> | 
						Powered by: <a title="digital labs" target="_blank" href="/">digital labs</a>
			</div>
		</div>

<script th:inline="javascript">

$("#research-coordinate-team").select2({
	placeholder: /*[[#{label.form.research.coordinate}]]*/,
	tags: true,
	dropdownAutoWidth: true
});

$("#research-field").select2({
	placeholder: /*[[#{label.form.research.field}]]*/,
	tags: true,
	dropdownAutoWidth: true
});

$("#organization-select").select2({
	placeholder: "organization",
	dropdownAutoWidth: true,
	minimumResultsForSearch: -1
});

var serverContext = [[@{/}]];

var departments = {
		"biblhertz.it":"Bibliotheca Hertziana - Max-Planck-Institutfür Kunstgeschichte",
		"dkrz.de":"Deutsches Klimarechenzentrum",
		"esi-frankfurt.de":"Ernst Strüngmann Institute (ESI) forNeuroscience in Cooperation with Max-Planck-Society",
		"caesar.de":"Forschungszentrum caesar (center ofadvanced european studies and research)",
		"tuebingen.mpg.de":["Friedrich-Miescher-Laboratorium fürbiologische Arbeitsgruppen in der Max-Planck-Gesellschaft", "Max-Planck-Institut für biologischeKybernetik", "Max-Planck-Institut für Entwicklungsbiologie", "Max-Planck-Institut für Intelligente Systeme,Standort Tübingen"],
		"fhi-berlin.mpg.de":"Fritz-Haber-Institut der Max-Planck-Gesellschaft",
		"gv.mpg.de":"Generalverwaltung",
		"gwdg.de":"GWD Göttingen",
		"hll.mpg.de":"Halbleiterlabor der Max-Planck-Gesellschaft",
		"hda-hd.de":"Haus der Astronomie",
		"khi.fi.it":"Kunsthistorisches Institut in Florenz - Max-Planck-Institut",
		"mpcdf.mpg.de":"Max Planck Computing and Data Facility",
		"rzg.mpg.de":"Max Planck Computing and Data Facility",
		"mpdl.mpg.de":"Max Planck Digital Library",
		"maxplanckflorida.org":"Max Planck Florida Institute for Neuroscience",
		"mpfi.org":"Max Planck Florida Institute for Neuroscience",
		"mpfpr.de":"Max Planck Foundation for InternationalPeace and the Rule of Law",
		"gen.mpg.de":"Max-Planck-Forschungsstelle für Neurogenetik",
		"mpi.lu":"Max Planck Institute Luxembourg forInternational, European and RegulatoryProcedural Law",
		"mpia.de":"Max-Planck-Institut für Astronomie",
		"mpia-hd.de":"Max-Planck-Institut für Astronomie",
		"mpa-garching.mpg.de":"Max-Planck-Institut für Astrophysik",
		"mpil.de":"Max-Planck-Institut für ausländischesöffentliches Recht und Völkerrecht",
		"mpipriv.de":"Max-Planck-Institut für ausländisches undinternationales Privatrecht",
		"mpicc.de":"Max-Planck-Institut für ausländisches undinternationales Strafrecht",
		"mpib-berlin.mpg.de":"Max-Planck-Institut für Bildungsforschung",
		"biochem.mpg.de":"Max-Planck-Institut für Biochemie",
		"bgc-jena.mpg.de":"Max-Planck-Institut für Biogeochemie",
		"age.mpg.de":"Max-Planck-Institut für Biologie des Alterns",
		"mpibp-frankfurt.mpg.de":"Max-Planck-Institut für Biophysik",
		"biophys.mpg.de":"Max-Planck-Institut für Biophysik",
		"mpibpc.mpg.de":"Max-Planck-Institut für biophysikalischeChemie",
		"mpic.de":"Max-Planck-Institut für Chemie",
		"cec.mpg.de":"Max-Planck-Institut für chemischeEnergiekonversion",
		"ice.mpg.de":"Max-Planck-Institut für chemische Ökologie",
		"cpfs.mpg.de":"Max-Planck-Institut für Chemische Physikfester Stoffe",
		"demogr.mpg.de":"Max-Planck-Institut für demografischeForschung",
		"mpl.mpg.de":"Max-Planck-Institut für die Physik des Lichts",
		"mpi-magdeburg.mpg.de":"Max-Planck-Institut für Dynamik komplexertechnischer Systeme",
		"ds.mpg.de":"Max-Planck-Institut für Dynamik undSelbstorganisation",
		"mpie.de":"Max-Planck-Institut für Eisenforschung GmbH",
		"aesthetics.mpg.de":"Max-Planck-Institut für empirische Ästhetik",
		"eth.mpg.de":"Max-Planck-Institut für ethnologische Forschung",
		"mpier.uni-frankfurt.de":"Max-Planck-Institut für europäischeRechtsgeschichte",
		"rg.mpg.de":"Max-Planck-Institut für europäischeRechtsgeschichte",
		"eva.mpg.de":"Max-Planck-Institut für evolutionäreAnthropologie",
		"evolbio.mpg.de":"Max-Planck-Institut für Evolutionsbiologie",
		"em.mpg.de":"Max-Planck-Institut für experimentelle Medizin",
		"mpe.mpg.de":"Max-Planck-Institut für extraterrestrische Physik",
		"fkf.mpg.de":"Max-Planck-Institut für Festkörperforschung",
		"mpifg.de":"Max-Planck-Institut für Gesellschaftsforschung",
		"aei.mpg.de":["Max-Planck-Institut für Gravitationsphysik", "Max-Planck-Institut für Gravitationsphysik, Teilinstitut Hannover"],
		"kerckhoff.mpg.de":"Max-Planck-Institut für Herz- undLungenforschung",
		"mpi-bn.mpg.de":"Max-Planck-Institut für Herz- undLungenforschung",
		"mpih-frankfurt.mpg.de":"Max-Planck-Institut für Hirnforschung",
		"brain.mpg.de":"Max-Planck-Institut für Hirnforschung",
		"immunbio.mpg.de":"Max-Planck-Institut für Immunbiologie",
		"ie-freiburg.mpg.de":"Max-Planck-Institut für Immunbiologie und Epigenetik",
		"mpiib-berlin.mpg.de":"Max-Planck-Institut für Infektionsbiologie",
		"mpi-inf.mpg.de":"Max-Planck-Institut für Informatik",
		"mpi-klsb.mpg.de":["Max-Planck-Institut für Informatik", "Max-Planck-Institut für Softwaresysteme, Standort Kaiserslautern", "Max-Planck-Institut für Softwaresysteme, Standort Saarbrücken"],
		"ip.mpg.de":"Max-Planck-Institut für Innovation undWettbewerb",
		"is.mpg.de":"Max-Planck-Institut für Intelligente Systeme,Standort Stuttgart",
		"mpi-hd.mpg.de":"Max-Planck-Institut für Kernphysik",
		"cbs.mpg.de":"Max-Planck-Institut für Kognitions- und Neurowissenschaften",
		"kofo.mpg.de":"Max-Planck-Institut für Kohlenforschung",
		"mpikg-golm.mpg.de":"Max-Planck-Institut für Kolloid- und Grenzflächenforschung",
		"mpikg.mpg.de":"Max-Planck-Institut für Kolloid- und Grenzflächenforschung",
		"mpil-ploen.mpg.de":"Max-Planck-Institut für Limnologie",
		"mpi-bremen.de":"Max-Planck-Institut für marine Mikrobiologie",
		"mpim-bonn.mpg.de":"Max-Planck-Institut für Mathematik",
		"mis.mpg.de":"Max-Planck-Institut für Mathematik in den Naturwissenschaften",
		"mpimf-heidelberg.mpg.de":"Max-Planck-Institut für medizinische Forschung",
		"shh.mpg.de":"Max-Planck-Institut für Menschheitsgeschichte",
		"zmaw.de":"Max-Planck-Institut für Meteorologie",
		"mpimet.mpg.de":"Max-Planck-Institut für Meteorologie",
		"mpi-halle.mpg.de":"Max-Planck-Institut für Mikrostrukturphysik",
		"mpi-halle.de":"Max-Planck-Institut für Mikrostrukturphysik",
		"mpi-muenster.mpg.de":"Max-Planck-Institut für molekulare Biomedizin",
		"molgen.mpg.de":"Max-Planck-Institut für molekulare Genetik",
		"mpimp-golm.mpg.de":"Max-Planck-Institut für molekulare Pflanzenphysiologie",
		"cgc.mpg.de":"Max-Planck-Institut für molekulare Physiologie",
		"mpi-dortmund.mpg.de":"Max-Planck-Institut für molekulare Physiologie",
		"mpi-cbg.de":"Max-Planck-Institut für molekulare Zellbiologie und Genetik",
		"neuro.mpg.de":"Max-Planck-Institut für Neurobiologie",
		"nf.mpg.de":"Max-Planck-Institut für neurologische Forschung",
		"econ.mpg.de":"Max-Planck-Institut für Ökonomik",
		"orn.mpg.de":["Max-Planck-Institut für Ornithologie", "Max-Planck-Institut für Ornithologie, Teilinstitut Radolfzell"],
		"mpipz.mpg.de":"Max-Planck-Institut für Pflanzenzüchtungsforschung",
		"mpiz-koeln.mpg.de":"Max-Planck-Institut für Pflanzenzüchtungsforschung",
		"mppmu.mpg.de":"Max-Planck-Institut für Physik",
		"mpp.mpg.de":"Max-Planck-Institut für Physik",
		"pks.mpg.de":"Max-Planck-Institut für Physik komplexer Systeme",
		"mpipks-dresden.mpg.de":"Max-Planck-Institut für Physik komplexer Systeme",
		"ipp.mpg.de":["Max-Planck-Institut für Plasmaphysik", "Max-Planck-Institut für Plasmaphysik, Teilinstitut Greifswald"],
		"mpip-mainz.mpg.de":"Max-Planck-Institut für Polymerforschung",
		"mpipsykl.mpg.de":"Max-Planck-Institut für Psychiatrie",
		"psych.mpg.de":"Max-Planck-Institut für Psychiatrie",
		"mpi.nl":"Max-Planck-Institut für Psycholinguistik",
		"mpq.mpg.de":"Max-Planck-Institut für Quantenoptik",
		"mpifr.de":"Max-Planck-Institut für Radioastronomie",
		"mpifr-bonn.mpg.de":"Max-Planck-Institut für Radioastronomie",
		"mpi-sws.or":"Max-Planck-Institut für Softwaresysteme, Standort Kaiserslautern",
		"mps.mpg.de":"Max-Planck-Institut für Sonnensystemforschung",
		"mpisoc.mpg.de":"Max-Planck-Institut für Sozialrecht und Sozialpolitik",
		"tax.mpg.de":"Max-Planck-Institut für Steuerrecht und Öffentliche Finanzen",
		"sf.mpg.de":"Max-Planck-Institut für Stoffwechselforschung",
		"mpsd.mpg.de":"Max-Planck-Institut für Struktur und Dynamik der Materie",
		"mpi-marburg.mpg.de":"Max-Planck-Institut für terrestrische Mikrobiologie",
		"mpiwg-berlin.mpg.de":"Max-Planck-Institut für Wissenschaftsgeschichte",
		"mmg.mpg.de":"Max-Planck-Institut zur Erforschung multireligiöser und multiethnischer Gesellschaften",
		"coll.mpg.de":"Max-Planck-Institut zur Erforschung von Gemeinschaftsgütern",
		"mpi-muelheim.mpg.de":"Mülheimer Institute",
		"mpis.mpg.de":"Stuttgarter Institute",
}

function updateInstitute() {
	var email = $("#email").val();
		var department_id = email.substring(email.indexOf('@')+1);
		if (email.trim().indexOf('@') === 0) {
			$("#emailError").show().html("Invalid email");
		}

		if (departments[department_id]) {
			if (Array.isArray(departments[department_id])) {
				for (i=0; i < departments[department_id].length; i++) {
					$('#organization-select').append(new Option(departments[department_id][i], departments[department_id][i], false, false)).trigger('change');
				}
			} else {
					$('#organization-select').append(new Option(departments[department_id], departments[department_id], false, false)).trigger('change');
			}
		} else {
			$("#emailError").show().html(/*[[#{EmailMatches.org}]]*/);
			$("#emailError").css("color", "orange");
			$("#organization-select").val('');
		}

		var csrf_token = $("#csrf").val();
		$.post(serverContext + "validEmail",{ _csrf: csrf_token, email: email} ,
			function(data){
				if(data.code === 500) {
					$('#emailError').show().html(data.message);
				}
		})
		.fail(function(data) {
		});
}

$(document).ready(function () {
	$('.info').children().first().hide()  //fix: strange styling link element 
	var emailStr = window.location.href.split("?").reverse()[0];
	if (email = emailStr.includes("email=")) {
		var email = emailStr.split("email=").reverse()[0];
		$('#email').val(email);  
		updateInstitute()
	} 

	$(window).keydown(function(event){
    if(event.keyCode == 13) {
      event.preventDefault();
      return false;
    }
  });

	$('#sign-up-continue').click(function(event) {
		continue_register(event);
	});

	$('#back-to-basic-info').click(function(event) {
		$('#basic-info-box').show();
		$('#research-info-box').hide();
	});

	$('#back-to-research-info').click(function(event) {
		event.preventDefault();
		$('#research-info-box').show();
		$('#address-info-box').hide();
	});

	$('#continue-to-address').click(function(event) {
		$('#research-info-box').hide();
		$('#address-info-box').show();
		$("#termsError").hide();
	});

	$('form').submit(function(event) {
		register(event);
	});

	$("#firstName").focus(function(){
		$("#userNameError").html("").hide();
	});

	$("#lastName").focus(function(){
		$("#userNameError").html("").hide();
	});

	$("#email").focus(function(){
			$("#emailError").html("").hide();
	});
	
	$("#email").focusout(function(){
			$('#organization-select').empty().trigger("change");
			updateInstitute();
	});

	$("#telephone").focus(function(){
		$("#telephoneError").html("").hide();
	});
	
	$("#matchPassword").focus(function(){
		$("#passwordError").html("").hide();
	});

	$("#password").focus(function(){
		$("#passwordError").html("").hide();
	});

	$("#zip").focus(function(){
		$("#termsError").html("").hide();
	});

	$("#address").focus(function(){
		$("#termsError").html("").hide();
	});

	$("#city").focus(function(){
		$("#termsError").html("").hide();
	});

	$('input[name="termCheckbox"]').click(function () {
		if ($(this).is(":checked")) {
				//checked
				$(this).removeClass("alert-checkbox");
		}
  });
	$('input[name="privacyCheckbox"]').click(function () {
		if ($(this).is(":checked")) {
				//checked
				$(this).removeClass("alert-checkbox");
		}
  });
	$('input[name="betriebsratCheckbox"]').click(function () {
		if ($(this).is(":checked")) {
				//checked
				$(this).removeClass("alert-checkbox");
		}
  });
	$('input[name="testPhaseCheckbox"]').click(function () {
		if ($(this).is(":checked")) {
				//checked
				$(this).removeClass("alert-checkbox");
		}
  });
});

function continue_register(event) {
		$("#label-firstName").text();
		if ($('#firstName').val().length <= 0) {
			$('#userNameError').show().html("Please fill in your first name");
		}	else if ($('#lastName').val().length <= 0) {
			$('#userNameError').show().html("Please fill in your last name");
		} else if ($('#email').val().length <= 0){
			$('#emailError').show().html("Please fill in your email");
			$('#emailError').css("color", "red");
		}else if ($('#telephone').val().length <= 0){
			$('#telephoneError').show().html("Please fill in your telephone");
		}	else if ($('#organization-select').val().length <= 0) {
			$("#emailError").show().html(/*[[#{EmailMatches.org}]]*/);
		} else if ($('#password').val().length <= 0 || $('#matchPassword').val().length <= 0) {
			$("#passwordError").show().html("Please fill in your password");
			$("#passwordHint").hide();
		} else if ($('#password').val() !== $('#matchPassword').val()) {
			$("#passwordError").show().html(/*[[#{PasswordMatches.user}]]*/);
			$("#passwordHint").hide();
		} else if ($('#password').val().length < 6) {
			$("#passwordError").show().html(/*[[#{error.password.rule}]]*/);
			$("#passwordHint").hide();
		} else if ($('#emailError').is(':visible')) {
			return;
		} else {
			var fullname = $("#title").val() + " " + $("#firstName").val() + " " + $("#lastName").val()
			var department = $("#department").val()
			var organization = $('#organization-select').val()

			$('#basic-info-box').hide();
			$('#research-info-box').show();
			$('#label-fullname').text(fullname);
			$('#shippingDepartment').val(department);
			$('#shippingOrganization').val(organization);

		}
}

function register(event){
	event.preventDefault();
	var privacyAccepted = $('input[name="privacyCheckbox"]:checked').length > 0 
	var termsAccepted = $('input[name="termCheckbox"]:checked').length > 0
	var betriebratAccepted = $('input[name="betriebsratCheckbox"]:checked').length > 0
	var testPhaseAccepted = $('input[name="testPhaseCheckbox"]:checked').length > 0
	if (!termsAccepted || !privacyAccepted || !betriebratAccepted || !testPhaseAccepted) {
		$("#termsError").show().html(/*[[#{Checked.termsandprivacy}]]*/);
		if (!termsAccepted) {
			$('input[name="termCheckbox"]').addClass('alert-checkbox');
		}
		if (!privacyAccepted) {
			$('input[name="privacyCheckbox"]').addClass('alert-checkbox');
		}
		if (!betriebratAccepted) {
			$('input[name="betriebsratCheckbox"]').addClass('alert-checkbox');
		}
		if (!testPhaseAccepted) {
			$('input[name="testPhaseCheckbox"]').addClass('alert-checkbox');
		}
			return;
	} 

	if ($("#zip").val().length === 0 || $("#city").val().length === 0 || $("#address").val().length === 0) {
		$("#termsError").show().html(/*[[#{message.address}]]*/);
		 return;
	}

	var formData= $('form').serialize();
	$("#btn-mpad-register").prop('disabled', true);
	$("#back-to-research-info").prop('disabled', true);
	$.post(serverContext + "user/registration",formData ,function(data){
			if(data.message == "success"){
					window.location.href = serverContext + "successRegister.html";
			} else if (!data.message) {
					window.location.href = serverContext + "invalidSession.html";
			}
	})
	.fail(function(data) {
			if(data.responseJSON.error.indexOf("MailError") > -1)
			{
					window.location.href = serverContext + "emailError.html";
			}
			else if(data.responseJSON.error == "UserAlreadyExist"){
					$("#termsError").show().html(data.responseJSON.message);
			}
			else if(data.responseJSON.error.indexOf("InternalError") > -1){
					window.location.href = serverContext + "login?message=" + data.responseJSON.message + "&title=Registration";
			}
			else if(data.status === 403) {
				window.location.href = serverContext + "invalidSession.html";
			}
			else{
				var errors = $.parseJSON(data.responseJSON.message);
					$.each( errors, function( index,item ){
						console.log(item.defaultMessage);
						if (item.field){
							$("#termsError").show().append(item.defaultMessage+"<br/>");
						}
						else {
							$("#termsError").show().append(item.defaultMessage+"<br/>");
						}
				});
			}
    });
}
</script>
</body>

</html>
